<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><title>Remote Access with SSH Quickstart - Matt Richards - Blog</title><meta name=renderer content="webkit"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta http-equiv=cache-control content="no-transform"><meta http-equiv=cache-control content="no-siteapp"><meta name=theme-color content="#f8f5ec"><meta name=msapplication-navbutton-color content="#f8f5ec"><meta name=apple-mobile-web-app-capable content="yes"><meta name=apple-mobile-web-app-status-bar-style content="#f8f5ec"><meta name=author content="Matt Richards"><meta name=description content="This is a post that I hope to be able to point someone to the next time I&amp;rsquo;m teaching someone how to ssh into a machine. I&amp;rsquo;m sure there are better posts out there on this, but I want this to be terse and pragmatic, without a whole lot of backstory.
So you want to log into a remote server, either a local server computer or on the cloud. Usually, I&amp;rsquo;m teaching a windows speaking audience, where I personally use WSL for ssh, but these instructions are also geared to powershell."><meta name=keywords content="blog,geospatial,software,transport"><meta name=generator content="Hugo 0.110.0 with theme even"><link rel=canonical href=https://m-richards.github.io/post/using_ssh/><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/manifest.json><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link href=/sass/main.min.f92fd13721ddf72129410fd8250e73152cc6f2438082b6c0208dc24ee7c13fc4.css rel=stylesheet><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin=anonymous><meta property="og:title" content="Remote Access with SSH Quickstart"><meta property="og:description" content="This is a post that I hope to be able to point someone to the next time I&rsquo;m teaching someone how to ssh into a machine. I&rsquo;m sure there are better posts out there on this, but I want this to be terse and pragmatic, without a whole lot of backstory.
So you want to log into a remote server, either a local server computer or on the cloud. Usually, I&rsquo;m teaching a windows speaking audience, where I personally use WSL for ssh, but these instructions are also geared to powershell."><meta property="og:type" content="article"><meta property="og:url" content="https://m-richards.github.io/post/using_ssh/"><meta property="article:section" content="post"><meta property="article:published_time" content="2023-02-06T20:20:25+11:00"><meta property="article:modified_time" content="2023-02-27T21:22:05+11:00"><meta itemprop=name content="Remote Access with SSH Quickstart"><meta itemprop=description content="This is a post that I hope to be able to point someone to the next time I&rsquo;m teaching someone how to ssh into a machine. I&rsquo;m sure there are better posts out there on this, but I want this to be terse and pragmatic, without a whole lot of backstory.
So you want to log into a remote server, either a local server computer or on the cloud. Usually, I&rsquo;m teaching a windows speaking audience, where I personally use WSL for ssh, but these instructions are also geared to powershell."><meta itemprop=datePublished content="2023-02-06T20:20:25+11:00"><meta itemprop=dateModified content="2023-02-27T21:22:05+11:00"><meta itemprop=wordCount content="602"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="Remote Access with SSH Quickstart"><meta name=twitter:description content="This is a post that I hope to be able to point someone to the next time I&rsquo;m teaching someone how to ssh into a machine. I&rsquo;m sure there are better posts out there on this, but I want this to be terse and pragmatic, without a whole lot of backstory.
So you want to log into a remote server, either a local server computer or on the cloud. Usually, I&rsquo;m teaching a windows speaking audience, where I personally use WSL for ssh, but these instructions are also geared to powershell."><!--[if lte IE 9]><script src=https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js></script><![endif]--><!--[if lt IE 9]><script src=https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js></script>
<script src=https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js></script><![endif]--></head><body><div id=mobile-navbar class=mobile-navbar><div class=mobile-header-logo><a href=/ class=logo>Matt's Musings</a></div><div class=mobile-navbar-icon><span></span>
<span></span>
<span></span></div></div><nav id=mobile-menu class="mobile-menu slideout-menu"><ul class=mobile-menu-list><a href=/><li class=mobile-menu-item>Home</li></a><a href=/post/><li class=mobile-menu-item>Archives</li></a><a href=/tags/><li class=mobile-menu-item>Tags</li></a><a href=/categories/><li class=mobile-menu-item>Categories</li></a></ul></nav><div class=container id=mobile-panel><header id=header class=header><div class=logo-wrapper><a href=/ class=logo>Matt's Musings</a></div><nav class=site-navbar><ul id=menu class=menu><li class=menu-item><a class=menu-item-link href=/>Home</a></li><li class=menu-item><a class=menu-item-link href=/post/>Archives</a></li><li class=menu-item><a class=menu-item-link href=/tags/>Tags</a></li><li class=menu-item><a class=menu-item-link href=/categories/>Categories</a></li></ul></nav></header><main id=main class=main><div class=content-wrapper><div id=content class=content><article class=post><header class=post-header><h1 class=post-title>Remote Access with SSH Quickstart</h1><div class=post-meta><span class=post-time>February 6, 2023</span><div class=post-category><a href=/categories/devops/>Devops</a>
<a href=/categories/teaching/>Teaching</a></div></div></header><div class=post-toc id=post-toc><h2 class=post-toc-title>Contents</h2><div class="post-toc-content always-active"><nav id=TableOfContents><ul><li><ul><li><a href=#troubleshooting>Troubleshooting</a></li><li><a href=#ssh-configs>SSH configs</a></li><li><a href=#aside-remembering-the-git-clone-via-ssh-syntax>Aside: Remembering the git clone via ssh syntax</a></li></ul></li></ul></nav></div></div><div class=post-content><p>This is a post that I hope to be able to point someone to the next time I&rsquo;m teaching someone how to ssh into a machine. I&rsquo;m
sure there are better posts out there on this, but I want this to be terse and pragmatic, without a whole lot of backstory.</p><p>So you want to log into a remote server, either a local server computer or on the cloud. Usually, I&rsquo;m teaching
a windows speaking audience, where I personally use WSL for ssh, but these instructions are also geared to powershell.</p><ol><li>Enable the ssh agent. <code>eval \</code>ssh-agent`` on WSL. In powershell, you might need to start the ssh-agent service. In a powershell run as administrator:</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=nb>Get-Service</span> <span class=nb>ssh-agent</span> <span class=p>|</span> <span class=nb>Set-Service</span> <span class=n>-StartupType</span> <span class=n>Automatic</span>
</span></span><span class=line><span class=cl><span class=nb>Start-Service</span> <span class=nb>ssh-agent</span>
</span></span></code></pre></td></tr></table></div></div><ol start=2><li>Add the ssh key for the server: <code>ssh-add ~/.ssh/&lt;path_to_ssh_key></code>. Note that for personal keys, this would likely be
<code>~/.ssh/id_25519</code> or <code>~/.ssh/id_rsa</code>, and AWS keys end in <code>.pem</code> usually.</li><li>If this throws an error about permissions on WSL, run <code>chmod 400 ~/.ssh/&lt;path_to_ssh_key></code>. This error is about protecting your key from being read by other local users, but if for example it&rsquo;s your own personal laptop/ workstation, that&rsquo;s not exactly a likely scenario.</li><li>Ssh into the machine: <code>ssh &lt;username>@&lt;hostname></code>. For example, for ec2 this might be something like <code>ssh ubuntu@ec2-198-51-100-1.compute-1.amazonaws.com</code></li></ol><h2 id=troubleshooting>Troubleshooting</h2><ul><li>Try repeating the above with <code>ssh -v</code> (verbose), make sure that the key you added was scanned and tried</li><li>Check the username / make sure you haven&rsquo;t forgotten it. It&rsquo;s pretty easy to do <code>ssh ec2-198-51-100-1.compute-1.amazonaws.com</code>, have the username default to my WSL username and see permission denied if I&rsquo;m not paying attention.</li><li>Make sure you have access to the server. That might involve a VPN connection, making sure your IP address has the right access in an AWS security group, &mldr;</li></ul><h2 id=ssh-configs>SSH configs</h2><p>Sometimes, it can be nice to be lazy and shortcut on some of this setup - especially if you&rsquo;re logging into a computer on EC2
which has an IP address in the name. A simple ssh config looks like this (and conventionally lives at <code>~/.ssh/config</code>)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>Host my_ec2_server
</span></span><span class=line><span class=cl>    HostName ec2-198-51-100-1.compute-1.amazonaws.com
</span></span><span class=line><span class=cl>    User ubuntu
</span></span><span class=line><span class=cl>    IdentityFile ~/.ssh/aws/foo.pem
</span></span></code></pre></td></tr></table></div></div><p>This provides an alias, and allows me to type <code>ssh my_ec2_server</code> and log in directly, without adding keys manually,
typing out long IP addresses, or forgetting the username is ubuntu.</p><p>Ssh configs can contain multiple hosts, and I find to be a super useful convenience. You can also specify <code>ForwardAgent yes</code>
as part of a host declaration which is also useful, as it forwards my ssh keys to the remote machine - which lets me clone
a repository without leaving keys on a remote machine. You can also <code>Include</code> ssh configs inside ssh configs, which
can be handy to share a bunch of configs with colleagues in a more tractable way than copy-paste.</p><h2 id=aside-remembering-the-git-clone-via-ssh-syntax>Aside: Remembering the git clone via ssh syntax</h2><p>I always prefer cloning repositories via SSH, but until recently I could never for the life of me remember the syntax for it, as it&rsquo;s not as straightforward as cloning via HTTPS.
But it was pointed out to me, that cloning via ssh is the same syntax as connecting via ssh (I guess the ssh bit was the clue, duh).</p><p>To clone a repo via ssh, the command looks like this: <code>git clone git@github.com:geopandas/geopandas.git</code>, which if you think about it, is analogous to SSHing into a computer with</p><ul><li>username <code>git</code></li><li>ip <code>github.com</code></li><li>File located at <code>geopandas/geopandas.git</code></li></ul><p>Now I&rsquo;m certainly not suggesting that all of github is just a really bit computer we&rsquo;re all SCPing our code down from, but I think it&rsquo;s still a useful mnemonic.</p></div><div class=post-copyright><p class=copyright-item><span class=item-title>Author</span>
<span class=item-content>Matt Richards</span></p><p class=copyright-item><span class=item-title>LastMod</span>
<span class=item-content>February 27, 2023
<a href=/commit/480d57c88af166987f272704fc8512195aac8715 title=tags>(480d57c)</a></span></p></div><footer class=post-footer><nav class=post-nav><a class=prev href=/post/roaming/><i class="iconfont icon-left"></i>
<span class="prev-text nav-default">Data Roaming</span>
<span class="prev-text nav-mobile">Prev</span></a>
<a class=next href=/post/geopandas_dev_env/><span class="next-text nav-default">Setting up a pandas/main environment for GeoPandas</span>
<span class="next-text nav-mobile">Next</span>
<i class="iconfont icon-right"></i></a></nav></footer></article></div></div></main><footer id=footer class=footer><div class=social-links><a href=https://www.linkedin.com/in/m-j-richards/ class="iconfont icon-linkedin" title=linkedin></a>
<a href=https://github.com/m-richards class="iconfont icon-github" title=github></a>
<a href=https://m-richards.github.io/index.xml type=application/rss+xml class="iconfont icon-rss" title=rss></a></div><div class=copyright><span class=power-by>Powered by <a class=hexo-link href=https://gohugo.io>Hugo</a></span>
<span class=division>|</span>
<span class=theme-info>Theme -
<a class=theme-link href=https://github.com/olOwOlo/hugo-theme-even>Even</a></span>
<span class=copyright-year>&copy;
2023<span class=heart><i class="iconfont icon-heart"></i></span><span>Matt Richards</span></span></div></footer><div class=back-to-top id=back-to-top><i class="iconfont icon-up"></i></div></div><script src=https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin=anonymous></script>
<script type=text/javascript src=/js/main.min.4ae89da218555efa0e7093a20b92017d2e1202b66fff9fc2edf4cb8d44b44c6e.js></script></body></html>